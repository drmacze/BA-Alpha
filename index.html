<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Bloodline: Ashaterra - Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
      margin: 0; padding: 0; box-sizing: border-box;
      font-family: 'Segoe UI', sans-serif;
    }
    body {
      background: linear-gradient(to bottom, #1a0d0d, #330000);
      color: #fff;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }
    .container {
      background: rgba(0, 0, 0, 0.6);
      padding: 30px 25px;
      border-radius: 12px;
      width: 90%;
      max-width: 400px;
      backdrop-filter: blur(10px);
      box-shadow: 0 0 25px rgba(255, 0, 0, 0.2);
      position: relative;
    }
    .container h2 {
      text-align: center;
      margin-bottom: 20px;
      color: #ffcb77;
    }
    input, select {
      width: 100%;
      margin: 8px 0;
      padding: 12px;
      border-radius: 6px;
      border: none;
      background: #111;
      color: #fff;
    }
    button {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      background: linear-gradient(to right, #e63946, #f1faee);
      border: none;
      color: #000;
      font-weight: bold;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      filter: brightness(1.2);
    }
    .toggle {
      text-align: center;
      margin-top: 12px;
      cursor: pointer;
      color: #ccc;
      font-size: 0.9rem;
    }
    .toast {
      position: fixed;
      top: 15px;
      right: 15px;
      background: #222;
      padding: 10px 18px;
      color: #fff;
      border-radius: 8px;
      font-size: 0.9rem;
      opacity: 0;
      transition: 0.5s;
      z-index: 99;
    }
    .toast.show {
      opacity: 1;
    }
    .footer {
      position: absolute;
      bottom: 10px;
      right: 12px;
      font-size: 0.75rem;
      color: #bbb;
    }
    .rgb-line {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet);
      animation: rgb 4s linear infinite;
    }
    @keyframes rgb {
      0% { filter: hue-rotate(0deg); }
      100% { filter: hue-rotate(360deg); }
    }
  </style>
</head>
<body>

<div class="container">
  <h2 id="form-title">Login</h2>
  <input id="username" placeholder="Username" />
  <input id="email" type="email" placeholder="Email" />
  <input id="password" type="password" placeholder="Password" />
  <input id="pin" type="number" placeholder="6-digit PIN" />
  <input id="dob" type="date" />
  <select id="country">
    <option value="">Select Country</option>
    <option value="Indonesia">Indonesia</option>
    <option value="USA">USA</option>
    <option value="Japan">Japan</option>
    <option value="Other">Other</option>
  </select>
  <input id="captcha" placeholder="Enter code: 7G4K" />
  <button onclick="submitForm()">Login</button>
  <div class="toggle" onclick="toggleMode()">Don't have an account? Register</div>
</div>

<div class="toast" id="toast"></div>
<div class="footer" id="footer">ID: - | v3.0</div>
<div class="rgb-line"></div>

<audio id="clickSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_23716337fc.mp3?filename=click-button-140881.mp3"></audio>

<script>
  let isLogin = true;
  const toast = document.getElementById("toast");
  const footer = document.getElementById("footer");

  function playClick() {
    document.getElementById("clickSound").play();
    if (navigator.vibrate) navigator.vibrate([10, 30]);
  }

  function toggleMode() {
    isLogin = !isLogin;
    document.getElementById("form-title").innerText = isLogin ? "Login" : "Register";
    document.querySelector("button").innerText = isLogin ? "Login" : "Register";
    document.querySelector(".toggle").innerText = isLogin ? "Don't have an account? Register" : "Already have an account? Login";
    playClick();
  }

  function showToast(message, success = false) {
    toast.innerText = message;
    toast.style.background = success ? "#2ecc71" : "#e74c3c";
    toast.classList.add("show");
    setTimeout(() => toast.classList.remove("show"), 3000);
  }

  function submitForm() {
    playClick();
    const email = emailInput.value.trim();
    const pass = passwordInput.value.trim();
    const uname = usernameInput.value.trim();
    const pin = pinInput.value.trim();
    const dob = dobInput.value;
    const country = countryInput.value;
    const captcha = captchaInput.value.trim();

    if (!email || !pass || !uname || !pin || !dob || !country || !captcha) {
      showToast("Please fill all fields.");
      return;
    }

    if (captcha !== "7G4K") {
      showToast("Invalid captcha.");
      return;
    }

    if (!isLogin) {
      const exist = localStorage.getItem("user_" + email);
      if (exist) return showToast("Email already used.");
      const id = "ID-" + Math.floor(Math.random() * 999999);
      const userData = { uname, pass, pin, dob, country, id };
      localStorage.setItem("user_" + email, JSON.stringify(userData));
      footer.innerText = `ID: ${id} | v3.0`;
      showToast("Account created!", true);
    } else {
      const user = JSON.parse(localStorage.getItem("user_" + email));
      if (!user || user.pass !== pass || user.pin !== pin) {
        showToast("Invalid credentials.");
        return;
      }
      footer.innerText = `ID: ${user.id} | v3.0`;
      showToast("Welcome, " + user.uname + "!", true);
    }
  }

  const emailInput = document.getElementById("email");
  const passwordInput = document.getElementById("password");
  const usernameInput = document.getElementById("username");
  const pinInput = document.getElementById("pin");
  const dobInput = document.getElementById("dob");
  const countryInput = document.getElementById("country");
  const captchaInput = document.getElementById("captcha");
</script>

</body>
</html>