<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bloodline Auth</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<style>
  :root {
    --bg-dark: #1b0d0c;
    --card-bg: rgba(255,255,255,0.05);
    --accent: #A62828;
    --text: #EEE;
    --shadow: 0 8px 20px rgba(0,0,0,0.5);
  }
  *{box-sizing:border-box;font-family:sans-serif;margin:0;padding:0;}
  body{background:var(--bg-dark);min-height:100vh;display:flex;align-items:center;justify-content:center;color:var(--text);}
  .card{width:350px;padding:24px;border-radius:20px;background:var(--card-bg);backdrop-filter:blur(10px);box-shadow:var(--shadow);position:relative;overflow:hidden;}
  h2{text-align:center;font-size:1.4em;margin-bottom:16px;color:var(--accent);}
  .toggle{font-size:0.9em;color:#aaa;text-align:center;cursor:pointer;margin-bottom:16px;}
  .step{display:none;animation:fadeIn 0.4s;}
  .step.active{display:block;}
  label{display:block;margin:10px 0 4px;font-size:0.85em;}
  input{width:100%;padding:12px;border:none;border-radius:8px;background:#2c1f1d;color:white;font-size:1em;transition:box-shadow .3s;}
  input:focus{outline:none;box-shadow:0 0 8px var(--accent);}
  .btn{width:100%;padding:12px;margin-top:16px;background:var(--accent);border:none;border-radius:8px;color:white;font-size:1em;cursor:pointer;transition:background .3s;}
  .btn:hover{background:#891f23;}
  .notif{position:absolute;top:16px;right:16px;padding:8px 12px;background:#222;border-left:4px solid var(--accent);border-radius:6px;opacity:0;transform:translateY(-10px);transition:all .4s;}
  .notif.show{opacity:1;transform:translateY(0);}
  @keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
</style>
</head>
<body>
<div class="card">
  <h2 id="title">Login</h2>
  <div class="toggle" onclick="toggleMode()">Don't have account? Sign Up</div>

  <div id="step-auth" class="step active">
    <label>Email</label><input type="email" id="email" placeholder="you@example.com">
    <label>Password</label><input type="password" id="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
    <button class="btn" onclick="doAuth()">Continue</button>
  </div>

  <div id="step-register" class="step">
    <label>PIN (4 digits)</label><input type="text" id="pin" maxlength="4" placeholder="1234">
    <label>DOB</label><input type="date" id="dob">
    <button class="btn" onclick="doRegister()">Register</button>
  </div>

  <div id="step-verify" class="step">
    <label>Enter verification code</label><input type="text" id="code" placeholder="123456">
    <button class="btn" onclick="doVerify()">Verify</button>
  </div>

  <div id="step-success" class="step">
    <h2>Welcome!</h2>
    <p>You're logged in ðŸŽ‰</p>
  </div>

  <div class="notif" id="notif"></div>
</div>

<script>
  let isLogin = true;
  let tempEmail;

  function toggleMode(){
    isLogin = !isLogin;
    document.getElementById('title').innerText = isLogin?'Login':'Sign Up';
    document.querySelector('.toggle').innerText = isLogin?'Donâ€™t have account? Sign Up':'Already have account? Login';
    showStep('step-auth');
  }

  function showStep(id){
    document.querySelectorAll('.step').forEach(s=>s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
  }

  function notify(msg){
    const n = document.getElementById('notif');
    n.innerText = msg;
    n.classList.add('show');
    setTimeout(()=>n.classList.remove('show'),2500);
  }

  function doAuth(){
    const email = emailInput.value.trim().toLowerCase();
    const pass = password.value;
    if(!email||!pass) return notify('Fill all fields.');
    if(isLogin){
      const key='user::'+email;
      const u=localStorage.getItem(key);
      if(!u||JSON.parse(u).password!==pass) return notify('Invalid credentials.');
      showStep('step-success');
    } else {
      tempEmail=email;
      showStep('step-register');
    }
  }

  function doRegister(){
    const pin=pin.value, dobval=dob.value;
    if(pin.length!==4||isNaN(pin)||!dobval) return notify('Fill valid PIN & DOB.');
    const key='user::'+tempEmail;
    localStorage.setItem(key, JSON.stringify({email:tempEmail,password:password.value,pin, dob:dobval}));
    showStep('step-verify');
    notify('Verification code sent (demo: 123456)');
  }

  function doVerify(){
    if(code.value!=='123456') return notify('Wrong code.');
    showStep('step-success');
  }
</script>
</body>
</html>